(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(24)},,,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),o=a.n(l);a(16),a(17),a(18),a(19);function i(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__logo"},r.a.createElement("i",{className:"animated infinite pulse fas fa-film"},"")),r.a.createElement("div",{className:"header__title"},r.a.createElement("span",{className:"animated fadeInDown delay-2s"},"MOVIE LIBRARY")),r.a.createElement("div",{className:"header__authorization"}," ",r.a.createElement("i",{className:"animated infinite pulse fas fa-film"},"")))}var c=a(2),s=a(1),m=a(5),u=a(6),v=a(8),d=a(7),f=a(9),p=(a(20),function(e){var t=e.movie,a=t.title,l=t.year,o=t.format,i=t.stars,c=t.movieId,m=Object(n.useState)(!1),u=Object(s.a)(m,2),v=u[0],d=u[1],f=Object(n.useState)(!1),p=Object(s.a)(f,2),h=p[0],E=p[1];return r.a.createElement("section",{className:"container__section--item"},r.a.createElement("span",{className:"removeButton",onClick:function(){return e.removeItem(c)},style:{float:"right"}},"\u2716"),r.a.createElement("h1",{className:"container__section--title",onClick:function(){return d(v=!v)}},a),v?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container__section--info"},r.a.createElement("p",null,r.a.createElement("b",null,"ID:")," ",c),r.a.createElement("p",null,r.a.createElement("b",null,"Year:")," ",l),r.a.createElement("p",null," ",r.a.createElement("b",null,"Format:")," ",o," "),r.a.createElement("p",null," ",r.a.createElement("b",null,"Actors:")," ",i.join(", ")," ")),r.a.createElement("div",{className:"container__section--buttons"},r.a.createElement("div",{className:h?"btn toggle":"btn",onClick:function(){return function(){var t=e.movie,a=e.removeMovieFromWillWatch,n=e.addMovieToWillWatch;h?(a(c),E(h=!h)):(n(t),E(h=!h))}()}},h?"Added":"Watch"),r.a.createElement("div",{className:"btn delete",onClick:function(){return e.removeItem(c)}},"Delete"))):"")});a(21);function h(e){var t=r.a.createRef(),a=r.a.createRef(),l=r.a.createRef(),o=r.a.createRef(),i=Object(n.useState)(!0),c=Object(s.a)(i,2),m=c[0],u=c[1];return r.a.createElement("div",{className:"contaiter__form"},r.a.createElement("form",{className:"form"},m?"":r.a.createElement("h3",{style:{color:"red",textAlign:"center"}},"Wrong form"),r.a.createElement("label",{htmlFor:"title"},"Film title",r.a.createElement("input",{type:"text",name:"title",id:"title",required:!0,placeholder:"Enter film title",autoComplete:"off",pattern:"^[A-Z\u0410-\u042f\u0401]{1}[a-z\u0430-\u044f\u0451]+$",ref:t})),r.a.createElement("label",{htmlFor:"year"},"Year",r.a.createElement("input",{type:"text",name:"year",id:"year",required:!0,placeholder:"Enter year",autoComplete:"off",pattern:"[0-9]{4}",ref:a})),r.a.createElement("label",{htmlFor:"format"},"Format",r.a.createElement("input",{type:"text",name:"format",id:"format",required:!0,placeholder:"Enter format",autoComplete:"off",ref:l})),r.a.createElement("label",{htmlFor:"stars"},"Actors",r.a.createElement("textarea",{type:"text",name:"stars",id:"stars",rows:"2",required:!0,placeholder:"FirstName LastName, FirstName LastName... ",ref:o})),r.a.createElement("div",{className:"wrapper__button"},r.a.createElement("button",{type:"submit",onClick:function(n){return function(n){n.preventDefault();var r=new Date;if(t.current.value&&a.current.value&&l.current.value&&o.current.value){u(m=!0);var i={title:t.current.value,year:a.current.value,format:l.current.value,stars:o.current.value.split(","),movieId:r.getTime()+Math.random()};e.addNewMovie(i),t.current.value="",a.current.value="",l.current.value="",o.current.value=""}else u(m=!1)}(n)},className:"btn"},"Add"),r.a.createElement("button",{type:"reset",className:"btn delete"},"Cancel"))))}a(22);var E=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],isLoading:!1,inputFilter:"",onload:!1,moviesWillWatch:[],sort:!1,inputFilterValue:""},a.handleGetMoviesData=function(){a.setState({onload:!0})},a.handleInputFileLoader=function(e){var t=e.target.files[0],n=new FileReader;n.readAsText(t),n.onload=function(){var e=n.result.split("\n\n").filter(Boolean).map(function(e){var t=e.split("\n"),a=Object(s.a)(t,4),n=a[0],r=a[1],l=a[2],o=a[3],i=function(e){return e.split(":")[1].trim()};return{title:i(n),year:i(r),format:i(l),stars:i(o).split(",").map(function(e){return e.trim()}),movieId:(new Date).getTime()+Math.random()}});a.setState({movies:[].concat(Object(c.a)(a.state.movies),Object(c.a)(e)),onload:!0,comyMovies:e})},n.onerror=function(){console.log(n.error)}},a.removeMovieById=function(e){var t=a.state.movies.filter(function(t){return t.movieId!==e});a.setState({movies:t})},a.addMovieToWillWatch=function(e){var t=[].concat(Object(c.a)(a.state.moviesWillWatch),[e]);a.setState({moviesWillWatch:t})},a.removeMovieFromWillWatch=function(e){var t=a.state.moviesWillWatch.filter(function(t){return t.movieId!==e});a.setState({moviesWillWatch:t})},a.sortByAbc=function(){var e=Object(c.a)(a.state.movies);a.state.sort?e.sort(function(e,t){var a=e.title.toLowerCase(),n=t.title.toLowerCase();return a<n?1:a>n?-1:0}):e.sort(function(e,t){var a=e.title.toLowerCase(),n=t.title.toLowerCase();return a<n?-1:a>n?1:0}),a.setState({movies:e,sort:!a.state.sort})},a.getDataFromServer=function(){fetch("https://test-server-node-express.herokuapp.com/movies").then(function(e){return e.json()}).then(function(e){a.setState({movies:e,onload:!0})})},a.changeInputFilterValue=function(e){a.setState({inputFilterValue:e.target.value})},a.addNewMovie=function(e){fetch("https://test-server-node-express.herokuapp.com/movies",{method:"POST",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(t){a.setState({movies:[].concat(Object(c.a)(a.state.movies),[e])})})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://test-server-node-express.herokuapp.com/movies").then(function(e){return e.json()}).then(function(t){e.setState({movies:t})})}},{key:"render",value:function(){var e=this,t=this.state.movies;return r.a.createElement("main",{className:"container__main"},r.a.createElement("article",{className:"container__main--form"},r.a.createElement(h,{addNewMovie:this.addNewMovie})),r.a.createElement("article",{className:"container__main--inputs"}),this.state.onload?r.a.createElement("article",{className:"container__main--moviesList"},r.a.createElement("div",{className:"inputFilter"},r.a.createElement("label",null,r.a.createElement("input",{className:"inputFilter__input",type:"text",id:"inputFilter",name:"inputFilter",value:this.state.inputFilterValue,onChange:this.changeInputFilterValue,placeholder:"Enter your value"})),r.a.createElement("div",{className:"wrapper__button"},r.a.createElement("button",{className:"btn sortbutton",onClick:this.sortByAbc},this.state.sort?r.a.createElement("span",null,"\u2191"):r.a.createElement("span",null,"\u2193")," ","SORT"),r.a.createElement("button",{className:"btn",onClick:this.getDataFromServer},"Get Data"))),t.map(function(t){return t.title.includes(e.state.inputFilterValue)||t.stars.join(",").includes(e.state.inputFilterValue)?r.a.createElement(p,{key:t.title,movie:t,removeItem:e.removeMovieById,addMovieToWillWatch:e.addMovieToWillWatch,removeMovieFromWillWatch:e.removeMovieFromWillWatch}):""})):r.a.createElement("article",{className:"container__main--moviesList"},r.a.createElement("h1",null,"Choose the correct"," ",r.a.createElement("span",{style:{color:"red"}},r.a.createElement("b",null,"*.txt"))," ","file on PC or this project directory"," ",r.a.createElement("a",{href:"../../sample_movies[756].txt",download:!0},"sample_movies.txt")," ","and"," ",r.a.createElement("label",{className:"label_input_file"},"Upload",r.a.createElement("input",{className:"custom-file-input",type:"file",id:"inputLoader",name:"inputLoader",onChange:this.handleInputFileLoader,placeholder:"what are we looking for?"}))," ","it! Or click on"," ",r.a.createElement("span",{style:{color:"red"}},r.a.createElement("b",null,r.a.createElement("button",{className:"getButton",onClick:this.getDataFromServer},"Get")))," ","button and get data from server. (Heroku or LocalServer)",r.a.createElement("p",null,r.a.createElement("a",{title:"Heroku server data base link",alt:"Heroku",href:"https://test-server-node-express.herokuapp.com/movies"},"Heroku bd")))))}}]),t}(n.Component);a(23);var b=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i,null),r.a.createElement(E,null))};o.a.render(r.a.createElement(b,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.21c4c117.chunk.js.map
{"version":3,"sources":["components/Main/Main.js","App.js","index.js"],"names":["Main","state","movies","isLoading","inputFilter","onload","moviesWillWatch","sort","handleGetMoviesData","_this","setState","handleInputFileLoader","e","file","target","files","reader","FileReader","readAsText","loadedFileContentArray","result","split","filter","Boolean","map","item","_item$split","_item$split2","Object","slicedToArray","title","year","format","stars","foo","value","trim","movieId","Date","getTime","Math","random","onerror","console","log","error","removeMovieById","id","updateMovies","movie","addMovieToWillWatch","updateMoviesWillWatch","concat","toConsumableArray","removeMovieFromWillWatch","sortByAbc","moviesSort","a","b","nameA","toLowerCase","nameB","_this2","this","react_default","createElement","className","onClick","type","name","onChange","placeholder","Main_Section","key","removeItem","Component","Section","props","_props$movie","_useState","useState","_useState2","open","setStatus","_useState3","_useState4","will","setCheck","style","float","Fragment","join","toggleWillWatch","App","components_Main_Main","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d37a4ce3.chunk.js","sourcesContent":["import React, { Component, useState } from \"react\";\n\nimport \"./Main.css\";\n\nclass Main extends Component {\n  state = {\n    movies: [],\n    isLoading: false,\n    inputFilter: \"\",\n    onload: false,\n    moviesWillWatch: [],\n    sort: false\n  };\n\n  handleGetMoviesData = () => {\n    this.setState({\n      onload: true\n    });\n  };\n\n  handleInputFileLoader = e => {\n    let file = e.target.files[0];\n    let reader = new FileReader();\n    reader.readAsText(file);\n\n    reader.onload = () => {\n      let loadedFileContentArray = reader.result\n        .split(\"\\n\\n\")\n        .filter(Boolean)\n        .map(item => {\n          const [title, year, format, stars] = item.split(\"\\n\");\n\n          const foo = value => value.split(\":\")[1].trim();\n          const getUniqueId = () => {\n            const date = new Date();\n\n            return date.getTime() + Math.random();\n          };\n\n          return {\n            title: foo(title),\n            year: foo(year),\n            format: foo(format),\n            stars: foo(stars)\n              .split(\",\")\n              .map(item => item.trim()),\n            movieId: getUniqueId()\n          };\n        });\n\n      this.setState({\n        movies: loadedFileContentArray,\n        onload: true\n      });\n    };\n\n    reader.onerror = function() {\n      console.log(reader.error);\n    };\n  };\n\n  removeMovieById = id => {\n    const updateMovies = this.state.movies.filter(function(movie) {\n      return movie.movieId !== id;\n    });\n\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch, movie];\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  removeMovieFromWillWatch = id => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(function(\n      movie\n    ) {\n      return movie.movieId !== id;\n    });\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n  sortByAbc = () => {\n    let moviesSort = [...this.state.movies];\n    console.log(moviesSort);\n    if (!this.state.sort) {\n      moviesSort.sort(function(a, b) {\n        var nameA = a.title.toLowerCase(),\n          nameB = b.title.toLowerCase();\n        if (nameA < nameB) return -1;\n        if (nameA > nameB) return 1;\n        return 0;\n      });\n    } else {\n      moviesSort.sort(function(a, b) {\n        var nameA = a.title.toLowerCase(),\n          nameB = b.title.toLowerCase();\n        if (nameA < nameB) return 1;\n        if (nameA > nameB) return -1;\n        return 0;\n      });\n    }\n    this.setState({\n      movies: moviesSort,\n      sort: !this.state.sort\n    });\n  };\n\n  render() {\n    const { movies } = this.state;\n    return (\n      <main className=\"container__main\">\n        <button onClick={this.sortByAbc}>SORT</button>\n        <article className=\"container__main--inputFilter\">\n          {/* <label>\n            <input\n              type=\"text\"\n              id=\"inputFilter\"\n              name=\"inputFilter\"\n              value={this.state.inputFilter}\n              onChange={this.handleChangeInputFilterValue}\n              placeholder=\"what are we looking for?\"\n            />\n          </label> */}\n          <label>\n            <input\n              type=\"file\"\n              id=\"inputLoader\"\n              name=\"inputLoader\"\n              onChange={this.handleInputFileLoader}\n              placeholder=\"what are we looking for?\"\n            />\n          </label>\n        </article>\n        {this.state.onload ? (\n          <article className=\"container__main--moviesList\">\n            {movies.map(movie => {\n              return (\n                <Section\n                  key={movie.title}\n                  movie={movie}\n                  removeItem={this.removeMovieById}\n                  addMovieToWillWatch={this.addMovieToWillWatch}\n                  removeMovieFromWillWatch={this.removeMovieFromWillWatch}\n                />\n              );\n            })}\n          </article>\n        ) : (\n          <h1>Chose the file and load it</h1>\n        )}\n      </main>\n    );\n  }\n}\n\nconst Section = props => {\n  const { title, year, format, stars, movieId } = props.movie;\n  let [open, setStatus] = useState(false);\n  let [will, setCheck] = useState(false);\n\n  function toggleWillWatch() {\n    const { movie, removeMovieFromWillWatch, addMovieToWillWatch } = props;\n    if (will) {\n      removeMovieFromWillWatch(movieId);\n      setCheck((will = !will));\n    } else {\n      addMovieToWillWatch(movie);\n      setCheck((will = !will));\n    }\n  }\n  return (\n    <section className=\"container__section--item\">\n      <span\n        className=\"removeButton\"\n        onClick={() => props.removeItem(movieId)}\n        style={{ float: \"right\" }}\n      >\n        âœ–\n      </span>\n      <h1\n        className=\"container__section--title\"\n        onClick={() => setStatus((open = !open))}\n      >\n        {title}\n      </h1>\n\n      {open ? (\n        <>\n          <div className=\"container__section--info\">\n            <p>\n              <b>ID:</b> {movieId}\n            </p>\n            <p>\n              <b>Year:</b> {year}\n            </p>\n            <p>\n              {\" \"}\n              <b>Format:</b> {format}{\" \"}\n            </p>\n            <p>\n              {\" \"}\n              <b>Actors:</b> {stars.join(\", \")}{\" \"}\n            </p>\n          </div>\n          <div className=\"container__section--buttons\">\n            <div\n              className={will ? \"btn toggle\" : \"btn\"}\n              onClick={() => toggleWillWatch()}\n            >\n              {will ? \"Added\" : \"Watch\"}\n            </div>\n            <div\n              className=\"btn delete\"\n              onClick={() => props.removeItem(movieId)}\n            >\n              Delete\n            </div>\n          </div>\n        </>\n      ) : (\n        \"\"\n      )}\n    </section>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\n\nimport Main from \"./components/Main/Main\";\n\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// import \"./index.css\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}
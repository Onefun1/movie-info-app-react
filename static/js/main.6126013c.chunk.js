(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(29)},,,,,,function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(3),o=a.n(l);a(17),a(18),a(19),a(20);function i(e){return n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"header__logo"},n.a.createElement("i",{className:"animated infinite pulse fas fa-film"},"")),n.a.createElement("div",{className:"header__title"},n.a.createElement("span",{className:"animated fadeInDown delay-2s"},"MOVIES LIBRARY")),n.a.createElement("div",{className:"header__authorization"}," ",n.a.createElement("i",{className:"animated infinite pulse fas fa-film"},"")))}var c=a(1),s=a(2),m=a(5),u=a(6),v=a(9),d=a(7),p=a(10),f=a(8),h=(a(24),a(25),function(e){var t=e.movie,a=t.title,l=t.year,o=t.format,i=t.stars,c=t.movieId,m=Object(r.useState)(!1),u=Object(s.a)(m,2),v=u[0],d=u[1],p=Object(r.useState)(!1),f=Object(s.a)(p,2),h=f[0],E=f[1];return n.a.createElement("section",{className:"container__section--item"},n.a.createElement("span",{className:"removeButton",onClick:function(){return e.removeItem(c)},style:{float:"right"}},"\u2716"),n.a.createElement("h1",{className:"container__section--title",onClick:function(){return d(v=!v)}},a),v?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container__section--info"},n.a.createElement("p",null,n.a.createElement("b",null,"ID:")," ",c),n.a.createElement("p",null,n.a.createElement("b",null,"Year:")," ",l),n.a.createElement("p",null," ",n.a.createElement("b",null,"Format:")," ",o," "),n.a.createElement("p",null," ",n.a.createElement("b",null,"Actors:")," ",i.join(", ")," ")),n.a.createElement("div",{className:"container__section--buttons"},n.a.createElement("div",{className:h?"btn toggle":"btn",onClick:function(){return function(){var t=e.movie,a=e.removeMovieFromWillWatch,r=e.addMovieToWillWatch;h?(a(c),E(h=!h)):(r(t),E(h=!h))}()}},h?"Added":"Watch"),n.a.createElement("div",{className:"btn delete",onClick:function(){return e.removeMovieByIdFromServer(c)}},"Delete"))):"")});a(26);function E(e){var t=n.a.createRef(),a=n.a.createRef(),l=n.a.createRef(),o=n.a.createRef(),i=Object(r.useState)(!0),c=Object(s.a)(i,2),m=c[0],u=c[1];return n.a.createElement("div",{className:"contaiter__form"},n.a.createElement("form",{className:"form"},m?"":n.a.createElement("h3",{style:{color:"red",textAlign:"center"}},"Wrong form"),n.a.createElement("label",{htmlFor:"title"},"Film title",n.a.createElement("input",{type:"text",name:"title",id:"title",required:!0,placeholder:"Enter film title",autoComplete:"off",pattern:"^[A-Z\u0410-\u042f\u0401]{1}[a-z\u0430-\u044f\u0451]+$",ref:t})),n.a.createElement("label",{htmlFor:"year"},"Year",n.a.createElement("input",{type:"text",name:"year",id:"year",required:!0,placeholder:"Enter year",autoComplete:"off",pattern:"[0-9]{4}",ref:a})),n.a.createElement("label",{htmlFor:"format"},"Format",n.a.createElement("input",{type:"text",name:"format",id:"format",required:!0,placeholder:"Enter format",autoComplete:"off",ref:l})),n.a.createElement("label",{htmlFor:"stars"},"Actors",n.a.createElement("textarea",{type:"text",name:"stars",id:"stars",rows:"2",required:!0,placeholder:"FirstName LastName, FirstName LastName... ",ref:o})),n.a.createElement("div",{className:"wrapper__button"},n.a.createElement("button",{type:"submit",onClick:function(r){return function(r){r.preventDefault();var n=new Date;if(t.current.value&&a.current.value&&l.current.value&&o.current.value){u(m=!0);var i={title:t.current.value,year:a.current.value,format:l.current.value,stars:o.current.value.split(","),movieId:n.getTime()+Math.random()};e.addNewMovie(i),t.current.value="",a.current.value="",l.current.value="",o.current.value=""}else u(m=!1)}(r)},className:"btn"},"Add"),n.a.createElement("button",{type:"reset",className:"btn delete"},"Cancel"))))}a(27);var b=function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={movies:[],isLoading:!1,inputFilter:"",onload:!1,moviesWillWatch:[],sort:!1,inputFilterValue:""},a.handleInputFileLoader=function(e){var t=e.target.files[0],r=new FileReader;r.readAsText(t),r.onload=function(){var e=r.result.split("\n\n").filter(Boolean).map(function(e){var t=e.split("\n"),a=Object(s.a)(t,4),r=a[0],n=a[1],l=a[2],o=a[3],i=function(e){return e.split(":")[1].trim()};return{title:i(r),year:i(n),format:i(l),stars:i(o).split(",").map(function(e){return e.trim()}),movieId:(new Date).getTime()+Math.random()}});a.setState({movies:[].concat(Object(c.a)(a.state.movies),Object(c.a)(e)),onload:!0}),fetch("https://test-server-node-express.herokuapp.com/movies",{method:"POST",body:JSON.stringify.apply(JSON,Object(c.a)(e))})}},a.handleGetMoviesData=function(){a.setState({onload:!0})},a.removeMovieById=function(e){var t=a.state.movies.filter(function(t){return t.movieId!==e});a.setState({movies:t})},a.addMovieToWillWatch=function(e){var t=[].concat(Object(c.a)(a.state.moviesWillWatch),[e]);a.setState({moviesWillWatch:t})},a.removeMovieFromWillWatch=function(e){var t=a.state.moviesWillWatch.filter(function(t){return t.movieId!==e});a.setState({moviesWillWatch:t})},a.sortByAbc=function(){var e=Object(c.a)(a.state.movies);a.state.sort?e.sort(function(e,t){var a=e.title.toLowerCase(),r=t.title.toLowerCase();return a<r?1:a>r?-1:0}):e.sort(function(e,t){var a=e.title.toLowerCase(),r=t.title.toLowerCase();return a<r?-1:a>r?1:0}),a.setState({movies:e,sort:!a.state.sort})},a.getDataFromServer=function(){fetch("https://test-server-node-express.herokuapp.com/movies").then(function(e){return e.json()}).then(function(e){a.setState({movies:[].concat(Object(c.a)(a.state.movies),Object(c.a)(e)),onload:!0})})},a.changeInputFilterValue=function(e){a.setState({inputFilterValue:e.target.value})},a.addNewMovie=function(e){fetch("https://test-server-node-express.herokuapp.com/movies",{method:"POST",body:JSON.stringify(e)}),a.setState({movies:[].concat(Object(c.a)(a.state.movies),[e])})},a.removeMovieByIdFromServer=function(e){Object(f.confirmAlert)({title:"Confirm to detete from server",message:"Are you sure to do this.",buttons:[{label:"Yes",onClick:function(){a.removeMovieById(e),fetch("https://test-server-node-express.herokuapp.com/movies/delete",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},{label:"No",onClick:function(){return null}}]})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.movies;return n.a.createElement("main",{className:"container__main"},n.a.createElement("article",{className:"container__main--form"},n.a.createElement(E,{addNewMovie:this.addNewMovie})),n.a.createElement("article",{className:"container__main--inputs"}),this.state.onload?n.a.createElement("article",{className:"container__main--moviesList"},n.a.createElement("div",{className:"inputFilter"},n.a.createElement("label",null,n.a.createElement("input",{className:"inputFilter__input",type:"text",id:"inputFilter",name:"inputFilter",value:this.state.inputFilterValue,onChange:this.changeInputFilterValue,placeholder:"Enter your value"})),n.a.createElement("div",{className:"wrapper__button"},n.a.createElement("button",{className:"btn sortbutton",onClick:this.sortByAbc},this.state.sort?n.a.createElement("span",null,"\u2191"):n.a.createElement("span",null,"\u2193")," ","SORT"),n.a.createElement("label",{className:"label_input_file file"},"Upload",n.a.createElement("input",{className:"custom-file-input",type:"file",id:"inputLoader",name:"inputLoader",onChange:this.handleInputFileLoader,placeholder:"what are we looking for?"}))," ",n.a.createElement("button",{className:"btn",onClick:this.getDataFromServer},"Get Data")),n.a.createElement("p",{className:"movies-willwatch"},"Movies will watch:"," ",n.a.createElement("b",{style:{color:"blue"}},this.state.moviesWillWatch.length))),t.map(function(t){return t.title.toLowerCase().includes(e.state.inputFilterValue.toLowerCase())||t.stars.join(",").toLowerCase().includes(e.state.inputFilterValue.toLowerCase())?n.a.createElement(h,{key:t.title,movie:t,removeItem:e.removeMovieById,addMovieToWillWatch:e.addMovieToWillWatch,removeMovieFromWillWatch:e.removeMovieFromWillWatch,removeMovieByIdFromServer:e.removeMovieByIdFromServer}):""})):n.a.createElement("article",{className:"container__main--moviesList"},n.a.createElement("h1",null,"Choose the correct"," ",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("b",null,"*.txt"))," ","file on PC or this project directory named sample_movies[756] and"," ",n.a.createElement("label",{className:"label_input_file"},"Upload",n.a.createElement("input",{className:"custom-file-input",type:"file",id:"inputLoader",name:"inputLoader",onChange:this.handleInputFileLoader,placeholder:"what are we looking for?"}))," ","it! Or click on"," ",n.a.createElement("span",{style:{color:"red"}},n.a.createElement("b",null,n.a.createElement("button",{className:"getButton",onClick:this.getDataFromServer},"Get")))," ","button and get data from server. (Heroku or LocalServer)",n.a.createElement("p",null,n.a.createElement("a",{title:"Heroku server data base link",alt:"Heroku",href:"https://test-server-node-express.herokuapp.com/movies"},"Heroku bd")))))}}]),t}(r.Component);a(28);var N=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(i,null),n.a.createElement(b,null))};o.a.render(n.a.createElement(N,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.6126013c.chunk.js.map